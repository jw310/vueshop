{"remainingRequest":"/Users/lchick1003/Documents/vue3esite/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lchick1003/Documents/vue3esite/src/views/CustomerOrders.vue?vue&type=template&id=87db317e&scoped=true&","dependencies":[{"path":"/Users/lchick1003/Documents/vue3esite/src/views/CustomerOrders.vue","mtime":1570261606000},{"path":"/Users/lchick1003/Documents/vue3esite/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lchick1003/Documents/vue3esite/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/lchick1003/Documents/vue3esite/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lchick1003/Documents/vue3esite/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div>\n        <loading :active.sync=\"isLoading\"></loading> <!--讀取效果-->\n        <div class=\"row mt-4\">\n            <div class=\"col-md-4 mb-4\" v-for=\"item in products\" :key=\"item.id\">\n                <div class=\"card border-0 shadow-sm\">\n                    <div style=\"height: 150px; background-size: cover; background-position: center\"\n                    :style=\"{backgroundImage: `url(${item.imageUrl})`}\"  >\n                    </div>\n                    <div class=\"card-body\">\n                    <span class=\"badge badge-secondary float-right ml-2\">{{item.category}}</span>\n                    <h5 class=\"card-title\">\n                        <a href=\"#\" class=\"text-dark\">{{item.title}}</a>\n                    </h5>\n                    <p class=\"card-text\">{{item.content}}</p>\n                    <div class=\"d-flex justify-content-between align-items-baseline\">\n                        <div class=\"h5\" v-if=\"!item.price\">{{item.origin_price}}</div>\n                        <del class=\"h6\" v-if=\"item.price\">{{item.origin_price}}</del>\n                        <div class=\"h5\" v-if=\"item.price\">{{item.price}}</div>\n                    </div>\n                    </div>\n                    <div class=\"card-footer d-flex\">\n                    <button type=\"button\" class=\"btn btn-outline-secondary btn-sm\"\n                        @click=\"getProduct(item.id)\">\n                        <i class=\"fas fa-spinner fa-spin\" v-if=\"status.LoadingItem === item.id\"></i>\n                        查看更多\n                    </button>\n                    <button type=\"button\" class=\"btn btn-outline-danger btn-sm ml-auto\"\n                        @click=\"addtoCart(item.id)\">\n                        <i class=\"fas fa-spinner fa-spin\" v-if=\"status.LoadingItem === item.id\"></i>\n                        加到購物車\n                    </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    <!-- cart list-->\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th></th>  \n          <th>產品名稱</th>\n          <th>數量</th>\n          <th>單價</th>\n        </tr>\n      </thead>\n      <tbody>\n        <!--key 會產生警告(有 eslint 的話)，因為此時沒有資料，但不影響使用-->\n        <tr v-for=\"(item, key) in carts\" :key=\"item.id\"> \n          <td width=\"20px\">\n          <button type=\"button\" class=\"btn btn-outline-danger btn-sm\"\n          @click=\"removeCartItem(item.id)\">\n              <i class=\"fas fa-trash-alt\"></i>\n          </button>\n          </td>\n          <td width=\"100px\">{{item.product.title}}\n             <div class=\"text-success\" v-if=\"item.coupon\">\n                 已使用優惠券\n             </div>\n          </td>\n          <td width=\"50px\">{{item.qty}}/{{item.product.unit}}</td>\n          <td width=\"50px\" align=\"right\">{{ item.total | currency}}</td>\n        </tr>\n      </tbody>\n      <tfoot>\n      <tr>\n          <td colspan=\"3\" align=\"right\">原價</td>\n          <td align=\"right\">{{this.total}}</td>\n        </tr>\n          <tr v-if=\"this.final_total !== this.total\">  <!-- 有折扣時才出現 -->\n          <td colspan=\"3\" align=\"right\" class=\"text-success\">折扣價</td>\n          <td align=\"right\" class=\"text-success\">{{this.final_total}}</td>\n        </tr>\n      </tfoot>\n    </table>\n        <div class='input-group mb-3 input-group-sm'>\n          <input type=\"text\" class=\"text-right\" placeholder=\"請輸入優惠碼\">\n            <div>\n            <button class=\"btn btn-lg btn-primary btn-block\" type=\"button\"\n            @click=\"addCouponCode\">送出</button>\n            </div> \n        </div>\n    <!-- 送出表單 -->\n<div class=\"my-5 row justify-content-center\">\n  <form class=\"col-md-6\" @submit.prevent=\"createOrder\">\n    <div class=\"form-group\">\n      <label for=\"useremail\">Email</label>\n      <input type=\"email\" class=\"form-control\" name=\"email\" id=\"useremail\"\n        v-validate=\"'required|email'\"\n        v-model=\"form.user.email\" placeholder=\"請輸入 Email\" required>\n      <span class=\"text-danger\"v-if=\"errors.has('email')\">\n          {{errors.first('email')}}\n      </span>\n    </div>\n  \n    <div class=\"form-group\">\n      <label for=\"username\">收件人姓名</label>\n      <input type=\"text\" class=\"form-control\" name=\"name\" id=\"username\"\n        :class=\"{'is-invalid': errors.has('name') }\"\n        v-model=\"form.user.name\" v-validate=\"'required'\" placeholder=\"輸入姓名\">\n      <span class=\"text-danger\" v-if=\"errors.has('name')\">姓名必須輸入</span>\n    </div>\n  \n    <div class=\"form-group\">\n      <label for=\"usertel\">收件人電話</label>\n      <input type=\"tel\" class=\"form-control\" id=\"usertel\" name=\"phoneNubmer\" v-model=\"form.user.tel\" \n       v-validate=\"'required'\" placeholder=\"請輸入電話\">\n       <span class=\"text-danger\" v-if=\"errors.has('phoneNubmer')\">請輸入電話</span>\n    </div>\n  \n    <div class=\"form-group\">\n      <label for=\"useraddress\">收件人地址</label>\n      <input type=\"text\" class=\"form-control\" name=\"address\" id=\"useraddress\" v-model=\"form.user.address\"\n       v-validate=\"'required'\"  placeholder=\"請輸入地址\"> \n      <span class=\"text-danger\" v-if=\"errors.has('address')\">地址欄位不得留空</span>\n    </div>\n  \n    <div class=\"form-group\">\n      <label for=\"comment\">留言</label>\n      <textarea name=\"\" id=\"comment\" class=\"form-control\" cols=\"30\" rows=\"10\" v-model=\"form.message\"></textarea>\n    </div>\n    <div class=\"text-right\">\n      <button class=\"btn btn-danger\">送出訂單</button>\n    </div>\n  </form>\n</div>\n\n    <!-- Modal -->\n    <div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\" role=\"dialog\"\n       aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg\" role=\"document\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ product.title }}</h5>\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span> \n                    </button>\n                </div>\n                <div class=\"modal-body\">\n                <img :src=\"product.image\" class=\"img-fluid\" alt=\"\">\n                    <blockquote class=\"blockquote mt-3\">\n                        <p class=\"mb-0\">{{ product.content }}</p>\n                        <footer class=\"blockquote-footer text-right\">{{ product.description }}</footer>\n                    </blockquote>\n                    <div class=\"d-flex justify-content-between align-items-baseline\">\n                        <div class=\"h4\" v-if=\"!product.price\">{{ product.origin_price }} 元</div>\n                        <del class=\"h6\" v-if=\"product.price\">原價 {{ product.origin_price }} 元</del>\n                        <div class=\"h4\" v-if=\"product.price\">現在只要{{ product.price }} 元</div>\n                    </div>\n                    <select name=\"\" class=\"form-control mt-3\" v-model=\"product.num\">\n                        <option :value=\"num\" v-for=\"num in 10\" :key=\"num\">\n                            選購 {{ num }} {{ product.unit }}\n                        </option>\n                    </select>\n                </div>\n                <div class=\"modal-footer\">\n                    <div class=\"text-muted text-nowrap mr-3\">\n                        小計 <strong>{{ product.num * product.price }}</strong> 元\n                    </div>\n                    <button type=\"button\" class=\"btn btn-primary\"\n                    @click=\"addtoCart(product.id, product.num)\">\n                    <i class=\"fas fa-spinner fa-spin\" v-if=\"product.id === status.LoadingItem\"></i>\n                    加到購物車\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>   \n",null]}