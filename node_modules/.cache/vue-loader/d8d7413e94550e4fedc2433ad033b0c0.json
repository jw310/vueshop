{"remainingRequest":"/Users/lchick1003/Documents/vue3esite/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lchick1003/Documents/vue3esite/src/views/Products.vue?vue&type=template&id=7177119e&","dependencies":[{"path":"/Users/lchick1003/Documents/vue3esite/src/views/Products.vue","mtime":1575257114000},{"path":"/Users/lchick1003/Documents/vue3esite/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lchick1003/Documents/vue3esite/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/lchick1003/Documents/vue3esite/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lchick1003/Documents/vue3esite/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div>\n  <loading :active.sync=\"isLoading\"></loading>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n    <h6 class=\"d-flex justify-content-between align-items-center mt-4 mb-4 text-muted\">\n            <span>管理介面</span>\n            <a class=\"d-flex align-items-center text-muted\" href=\"#\">\n              <span data-feather=\"plus-circle\"></span>\n            </a>\n          </h6>\n          <ul class=\"nav flex-column\">\n            <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/products\">\n                產品列表\n              </router-link>\n            </li>\n          </ul>\n          <ul class=\"nav flex-column\">\n            <li class=\"nav-item\">\n              <router-link class=\"nav-link\" to=\"/admin/Orders\">\n                訂單列表\n              </router-link>\n            </li>\n          </ul>\n          <ul class=\"nav flex-column\">\n            <li class=\"nav-item\">\n              <router-link class=\"nav-link\" to=\"/admin/Coupons\">\n                優惠券\n              </router-link>\n            </li>\n          </ul>\n    <div class=\"text-right mt-1\">\n               <!-- 傳值讓  isNew = true -->\n    <button class=\"btn btn-primary\" @click=\"openModal(true)\">建立新產品</button>\n    </div>\n  </nav>\n  <table class=\"table mt-4\">\n    <thead>\n      <tr>\n        <th width=\"120\">分類</th>\n        <th>產品名稱</th>\n        <th width=\"120\">原價</th>\n        <th width=\"120\">售價</th>\n        <th width=\"100\">是否啟用</th>\n        <th width=\"80\">編輯</th>\n      </tr>\n    </thead>\n    <tbody>\n      <!--key 會產生警告(有 eslint 的話)，因為此時沒有資料，但不影響使用-->\n      <tr v-for=\"(item, key) in products\" :key=\"item.id\">\n        <td>{{item.category}}</td>\n        <td>{{item.title}}</td>\n        <td class=\"text-right\">{{item.origin_price | currency}}</td>\n        <td class=\"text-right\">{{item.price | currency}}</td>\n        <td>\n          <span v-if=\"item.is_enabled\" class=\"text-success\">啟用</span>\n          <span v-else>未啟用</span>\n        </td>\n        <td>\n          <div style=\"display: inline-block;width: 100px;\">\n            <button class=\"btn btn-outline-primary btn-sm\" @click=\"openModal(false, item)\">編輯</button>\n            <button class=\"btn btn-outline-primary btn-sm\" @click=\"delModal(item)\">刪除</button>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination\">\n      <li class=\"page-item\" :class=\"{'disable': !pagination.has_pre}\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          aria-label=\"Previous\"\n          @click.prevent=\"getProducts(pagination.current_page - 1)\"\n        >\n          <span aria-hidden=\"true\">&laquo;</span>\n          <span class=\"sr-only\">Previous</span>\n        </a>\n      </li>\n      <li\n        class=\"page-item\"\n        v-for=\"page in pagination.total_pages\"\n        :key=\"page\"\n        :class=\"{'active': pagination.current_page === page}\"\n      >\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"getProducts(page)\">{{ page }}</a>\n      </li>\n      <li class=\"page-item\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          aria-label=\"Next\"\n          @click.prevent=\"getProducts(pagination.current_page + 1)\"\n        >\n          <span aria-hidden=\"true\">&raquo;</span>\n          <span class=\"sr-only\">Next</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n  <!-- Modal -->\n  <div\n    class=\"modal fade\"\n    id=\"productModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>新增產品</span>\n          </h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div><div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <div class=\"form-group\">\n                <label for=\"image\">輸入圖片網址</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"image\"\n                  v-model=\"tempProduct.imageUrl\"\n                  placeholder=\"請輸入圖片連結\"\n                />\n              </div>\n        \n              <div class=\"form-group\">\n                <label for=\"customFile\">\n                  或 上傳圖片\n                  <i class=\"fas fa-spinner fa-spin\" v-if=\"status.fileUploading\"></i>\n                </label>\n                <input\n                  type=\"file\"\n                  id=\"customFile\"\n                  class=\"form-control\"\n                  ref=\"files\"\n                  @change=\"uploadFile\"\n                />\n              </div>\n              <img\n                class=\"img-fluid\"\n                :src=\"tempProduct.imageUrl\"\n                alt\n              />\n            </div>\n            <div class=\"col-sm-8\">\n              <div class=\"form-group\">\n                <label for=\"title\">標題</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"title\"\n                  v-model=\"tempProduct.title\"\n                  placeholder=\"請輸入標題\"\n                />\n              </div>\n              <div class=\"form-row\">\n                <div class=\"form-group col-md-6\">\n                  <label for=\"category\">分類</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"category\"\n                    v-model=\"tempProduct.category\"\n                    placeholder=\"請輸入分類\"\n                  />\n                </div>\n                <div class=\"form-group col-md-6\">\n                  <label for=\"price\">單位</label>\n                  <input\n                    type=\"unit\"\n                    class=\"form-control\"\n                    id=\"unit\"\n                    v-model=\"tempProduct.unit\"\n                    placeholder=\"請輸入單位\"\n                  />\n                </div>\n              </div>\n\n              <div class=\"form-row\">\n                <div class=\"form-group col-md-6\">\n                  <label for=\"origin_price\">原價</label>\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    id=\"origin_price\"\n                    v-model=\"tempProduct.origin_price\"\n                    placeholder=\"請輸入原價\"\n                  />\n                </div>\n                <div class=\"form-group col-md-6\">\n                  <label for=\"price\">售價</label>\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    id=\"price\"\n                    v-model=\"tempProduct.price\"\n                    placeholder=\"請輸入售價\"\n                  />\n                  \n                </div>\n              </div>\n              <hr />\n              <div class=\"form-group\">\n                <label for=\"description\">產品描述</label>\n                <textarea\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"description\"\n                  v-model=\"tempProduct.description\"\n                  placeholder=\"請輸入產品描述\"\n                ></textarea>\n              </div>\n              <div class=\"form-group\">\n                <label for=\"content\">說明內容</label>\n                <textarea\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"content\"\n                  v-model=\"tempProduct.content\"\n                  placeholder=\"請輸入產品說明內容\"\n                ></textarea>\n              </div>\n              <div class=\"form-group\">\n                <div class=\"form-check\">\n                  <input\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    v-model=\"tempProduct.is_enabled\"\n                    :true-value=\"1\"\n                    :false-value=\"0\"\n                    id=\"is_enabled\"\n                  />\n                  <label class=\"form-check-label\" for=\"is_enabled\">是否啟用</label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">取消</button>\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"updateProduct\">確認</button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div\n    class=\"modal fade\"\n    id=\"delProductModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-danger text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>刪除產品</span>\n          </h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          是否刪除\n          <strong class=\"text-danger\">{{ tempProduct.title }}</strong> 商品(刪除後將無法恢復)。\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">取消</button>\n          <button type=\"button\" class=\"btn btn-danger\" @click=\"deleteProduct\">確認刪除</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n",null]}