{"remainingRequest":"/Users/lchick1003/Documents/vue3esite/node_modules/thread-loader/dist/cjs.js!/Users/lchick1003/Documents/vue3esite/node_modules/babel-loader/lib/index.js!/Users/lchick1003/Documents/vue3esite/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lchick1003/Documents/vue3esite/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lchick1003/Documents/vue3esite/src/views/CustomerCheckout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lchick1003/Documents/vue3esite/src/views/CustomerCheckout.vue","mtime":1575265521000},{"path":"/Users/lchick1003/Documents/vue3esite/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lchick1003/Documents/vue3esite/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lchick1003/Documents/vue3esite/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lchick1003/Documents/vue3esite/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lchick1003/Documents/vue3esite/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      order: {\n        //  因為 order.user.email，若無此行。會產生錯誤\n        user: {}\n      },\n      orderId: ''\n    };\n  },\n  methods: {\n    getOrder: function getOrder() {\n      var vm = this; //const api = 'https://vue-course-api.hexschool.io/api/jw310/order/${vm.orderId}';                                                                 \n\n      var api = \"\".concat(process.env.VUE_APP_APIPATH, \"/api/\").concat(process.env.VUE_APP_CUSTOMPATH, \"/order/\").concat(vm.orderId);\n      vm.isLoading = true;\n      this.$http.get(api).then(function (response) {\n        console.log(response.data.order);\n        vm.order = response.data.order;\n        vm.isLoading = false;\n      });\n    },\n    payOrder: function payOrder() {\n      var vm = this;\n      var api = \"\".concat(process.env.VUE_APP_APIPATH, \"/api/\").concat(process.env.VUE_APP_CUSTOMPATH, \"/pay/\").concat(vm.orderId);\n      vm.isLoading = true;\n      this.$http.post(api).then(function (response) {\n        console.log(response);\n\n        if (response.data.success) {\n          vm.getOrder();\n        }\n\n        vm.isLoading = false;\n      });\n    }\n  },\n  created: function created() {\n    this.orderId = this.$route.params.orderId; // 取得網站頁面 id\n    //console.log(this.orderId);\n\n    this.getOrder();\n  }\n};",{"version":3,"sources":["CustomerCheckout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AAAA;AACA,QAAA,IAAA,EAAA;AADA,OADA;AAIA,MAAA,OAAA,EAAA;AAJA,KAAA;AAMA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,UAAA,EAAA,GAAA,IAAA,CADA,CAEA;;AACA,UAAA,GAAA,aAAA,OAAA,CAAA,GAAA,CAAA,eAAA,kBAAA,OAAA,CAAA,GAAA,CAAA,kBAAA,oBAAA,EAAA,CAAA,OAAA,CAAA;AACA,MAAA,EAAA,CAAA,SAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA,KAAA;AACA,QAAA,EAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA,CAAA,KAAA;AACA,QAAA,EAAA,CAAA,SAAA,GAAA,KAAA;AACA,OAJA;AAKA,KAXA;AAYA,IAAA,QAZA,sBAYA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,UAAA,GAAA,aAAA,OAAA,CAAA,GAAA,CAAA,eAAA,kBAAA,OAAA,CAAA,GAAA,CAAA,kBAAA,kBAAA,EAAA,CAAA,OAAA,CAAA;AACA,MAAA,EAAA,CAAA,SAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;;AACA,YAAA,QAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,UAAA,EAAA,CAAA,QAAA;AACA;;AACA,QAAA,EAAA,CAAA,SAAA,GAAA,KAAA;AACA,OANA;AAOA;AAvBA,GATA;AAkCA,EAAA,OAlCA,qBAkCA;AACA,SAAA,OAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CADA,CACA;AACA;;AACA,SAAA,QAAA;AACA;AAtCA,CAAA","sourcesContent":["<template>\n    <div class=\"my-5 row justify-content-center\">\n  <form class=\"col-md-6\" @submit.prevent=\"payOrder\">\n    <table class=\"table\">\n      <thead>\n        <th>品名</th>\n        <th>數量</th>\n        <th>單價</th>\n      </thead>\n      <tbody>\n        <tr v-for=\"item in order.products\" :key=\"item.id\">\n          <td class=\"align-middle\">{{ item.product.title }}</td>\n          <td class=\"align-middle\">{{ item.qty }}/{{ item.product.unit }}</td>\n          <td class=\"align-middle text-right\">{{ item.final_total }}</td>\n        </tr>\n      </tbody>\n      <tfoot>\n        <tr>\n          <td colspan=\"2\" class=\"text-right\">總計</td>\n          <td class=\"text-right\">{{ order.total }}</td>\n        </tr>\n      </tfoot>\n    </table>\n\n    <table class=\"table\">\n      <tbody>\n        <tr>\n          <th width=\"100\">Email</th>\n          <td>{{ order.user.email }}</td>\n        </tr>\n        <tr>\n          <th>姓名</th>\n          <td>{{ order.user.name }}</td>\n        </tr>\n        <tr>\n          <th>收件人電話</th>\n          <td>{{ order.user.tel }}</td>\n        </tr>\n        <tr>\n          <th>收件人地址</th>\n          <td>{{ order.user.address }}</td>\n        </tr>\n        <tr>\n          <th>付款狀態</th>\n          <td>\n            <span v-if=\"!order.is_paid\">尚未付款</span>\n            <span v-else class=\"text-success\">付款完成</span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <div class=\"text-right\" v-if=\"order.is_paid === false\">\n      <button class=\"btn btn-danger\">確認付款去</button>\n    </div>\n  </form>\n    </div>\n    \n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            order: {   //  因為 order.user.email，若無此行。會產生錯誤\n                user: {},\n            },\n            orderId: '',\n        };\n    },\n    methods: {\n    getOrder() {\n      const vm = this;\n      //const api = 'https://vue-course-api.hexschool.io/api/jw310/order/${vm.orderId}';                                                                 \n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/order/${vm.orderId}`;\n      vm.isLoading = true;\n      this.$http.get(api).then(response => { \n      console.log(response.data.order);\n      vm.order = response.data.order;\n      vm.isLoading = false;\n      }); \n     },\n    payOrder() {\n      const vm = this;                                                                     \n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/pay/${vm.orderId}`;\n      vm.isLoading = true;\n      this.$http.post(api).then(response => { \n      console.log(response);\n      if (response.data.success) {\n      vm.getOrder();\n      }\n      vm.isLoading = false;\n      }); \n     },\n    },\n    created() {\n        this.orderId = this.$route.params.orderId; // 取得網站頁面 id\n        //console.log(this.orderId);\n        this.getOrder();\n    },\n}\n</script>"],"sourceRoot":"src/views"}]}